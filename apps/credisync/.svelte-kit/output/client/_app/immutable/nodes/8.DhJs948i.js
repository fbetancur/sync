import"../chunks/DsnmJJEf.js";import{D as Ee,p as Ne,E as J,F as ve,o as Ae,f as _,z as ce,s,c as D,a as d,b as Ce,j as v,h as t,g as e,r as a,y as Pe,k as h,M as De,t as se,l as j,e as Me,d as M,I as we,J as Oe,G as de,K as Se,N as Fe,O as Le}from"../chunks/C5jdwYbG.js";import{g as Re}from"../chunks/NwYeZyG2.js";import{f as ue}from"../chunks/Be5qoVR8.js";var Ge=_('<div class="loading svelte-6qgtij"><div class="spinner svelte-6qgtij"></div> <p class="svelte-6qgtij">Cargando productos...</p></div>'),Qe=_('<div class="empty-state svelte-6qgtij"><p class="svelte-6qgtij">No hay productos configurados</p> <button class="btn-primario svelte-6qgtij">Crear Primer Producto</button></div>'),Ue=_('<p class="producto-descripcion svelte-6qgtij"> </p>'),$e=_('<div class="detalle-row svelte-6qgtij"><span class="label svelte-6qgtij">Domingos:</span> <span class="value svelte-6qgtij">Excluidos</span></div>'),ze=_('<div><div class="producto-header svelte-6qgtij"><h3 class="svelte-6qgtij"> </h3> <div class="producto-estado svelte-6qgtij"><label class="switch svelte-6qgtij"><input type="checkbox" class="svelte-6qgtij"/> <span class="slider svelte-6qgtij"></span></label> <span class="estado-label svelte-6qgtij"> </span></div></div> <!> <div class="producto-detalles svelte-6qgtij"><div class="detalle-row svelte-6qgtij"><span class="label svelte-6qgtij">Inter√©s:</span> <span class="value svelte-6qgtij"> </span></div> <div class="detalle-row svelte-6qgtij"><span class="label svelte-6qgtij">Cuotas:</span> <span class="value svelte-6qgtij"> </span></div> <div class="detalle-row svelte-6qgtij"><span class="label svelte-6qgtij">Rango:</span> <span class="value svelte-6qgtij"> </span></div> <!></div> <div class="producto-acciones svelte-6qgtij"><button class="btn-editar svelte-6qgtij">Editar</button></div></div>'),Je=_('<div class="productos-grid svelte-6qgtij"></div>'),Ke=_('<div class="form-group svelte-6qgtij"><label class="checkbox-label svelte-6qgtij"><input type="checkbox" class="svelte-6qgtij"/> Excluir domingos</label></div>'),Be=_('<div class="modal-backdrop svelte-6qgtij" role="dialog"><div class="modal-content svelte-6qgtij"><div class="modal-header svelte-6qgtij"><h2 class="svelte-6qgtij"> </h2> <button class="btn-close svelte-6qgtij">‚úï</button></div> <div class="modal-body svelte-6qgtij"><form class="svelte-6qgtij"><div class="form-grid svelte-6qgtij"><div class="form-group span-2 svelte-6qgtij"><label for="nombre" class="svelte-6qgtij">Nombre del Producto</label> <input id="nombre" type="text" placeholder="Ej: Cr√©dito Diario Express" required class="svelte-6qgtij"/></div> <div class="form-group span-2 svelte-6qgtij"><label for="descripcion" class="svelte-6qgtij">Descripci√≥n (Opcional)</label> <textarea id="descripcion" placeholder="Descripci√≥n del producto..." rows="2" class="svelte-6qgtij"></textarea></div> <div class="form-group svelte-6qgtij"><label for="interes" class="svelte-6qgtij">Inter√©s (%)</label> <input id="interes" type="number" placeholder="20" min="0" max="100" step="0.1" required class="svelte-6qgtij"/></div> <div class="form-group svelte-6qgtij"><label for="cuotas" class="svelte-6qgtij">N√∫mero de Cuotas</label> <input id="cuotas" type="number" placeholder="20" min="1" max="100" required class="svelte-6qgtij"/></div> <div class="form-group svelte-6qgtij"><label for="frecuencia" class="svelte-6qgtij">Frecuencia</label> <select id="frecuencia" required class="svelte-6qgtij"><option class="svelte-6qgtij">Diario</option><option class="svelte-6qgtij">Semanal</option><option class="svelte-6qgtij">Quincenal</option><option class="svelte-6qgtij">Mensual</option></select></div> <!> <div class="form-group svelte-6qgtij"><label for="monto_min" class="svelte-6qgtij">Monto M√≠nimo</label> <input id="monto_min" type="number" placeholder="500" min="0" step="100" required class="svelte-6qgtij"/></div> <div class="form-group svelte-6qgtij"><label for="monto_max" class="svelte-6qgtij">Monto M√°ximo</label> <input id="monto_max" type="number" placeholder="5000" min="0" step="100" required class="svelte-6qgtij"/></div></div> <div class="form-actions svelte-6qgtij"><button type="button" class="btn-cancelar svelte-6qgtij">Cancelar</button> <button type="submit" class="btn-guardar svelte-6qgtij"> </button></div></form></div></div></div>'),He=_('<div class="configuracion-page svelte-6qgtij"><div class="header svelte-6qgtij"><h1 class="svelte-6qgtij">Configuraci√≥n</h1> <button class="btn-nuevo svelte-6qgtij">+ Nuevo Producto</button></div> <div class="section svelte-6qgtij"><h2 class="svelte-6qgtij">Productos de Cr√©dito</h2> <!></div></div> <!>',1);function Ye(_e,me){Ne(me,!0);let K=J(ve([])),Z=J(!0),w=J(!1),O=J(null),r=J(ve({nombre:"",descripcion:"",interes_porcentaje:"",numero_cuotas:"",frecuencia:"DIARIO",monto_minimo:"",monto_maximo:"",excluir_domingos:!1,activo:!0}));Ae(async()=>{await ie()});async function ie(){try{v(Z,!0),v(K,await Re(),!0),console.log("üì¶ [CONFIG] Productos cargados:",e(K).length)}catch(o){console.error("Error cargando productos:",o)}finally{v(Z,!1)}}function oe(){v(O,null),v(r,{nombre:"",descripcion:"",interes_porcentaje:"",numero_cuotas:"",frecuencia:"DIARIO",monto_minimo:"",monto_maximo:"",excluir_domingos:!1,activo:!0},!0),v(w,!0)}function ge(o){v(O,o,!0),v(r,{nombre:o.nombre,descripcion:o.descripcion||"",interes_porcentaje:o.interes_porcentaje.toString(),numero_cuotas:o.numero_cuotas.toString(),frecuencia:o.frecuencia,monto_minimo:o.monto_minimo.toString(),monto_maximo:o.monto_maximo.toString(),excluir_domingos:o.excluir_domingos||!1,activo:o.activo},!0),v(w,!0)}async function pe(){try{console.log("üíæ [CONFIG] Guardando producto:",e(r)),alert("Funcionalidad de guardar producto ser√° implementada con @sync/core"),v(w,!1),await ie()}catch(o){console.error("Error guardando producto:",o),alert("Error al guardar producto")}}async function je(o){try{console.log("üîÑ [CONFIG] Cambiando estado:",o.id,!o.activo),alert("Funcionalidad de cambiar estado ser√° implementada con @sync/core")}catch(n){console.error("Error cambiando estado:",n)}}function B(){v(w,!1),v(O,null)}function be(o){return{DIARIO:"Diario",SEMANAL:"Semanal",QUINCENAL:"Quincenal",MENSUAL:"Mensual"}[o]||o}var re=He(),ee=ce(re),ae=t(ee),qe=s(t(ae),2);qe.__click=oe,a(ae);var le=s(ae,2),fe=s(t(le),2);{var xe=o=>{var n=Ge();d(o,n)},he=o=>{var n=Pe(),S=ce(n);{var F=m=>{var u=Qe(),g=s(t(u),2);g.__click=oe,a(u),d(m,u)},L=m=>{var u=Je();Oe(u,21,()=>e(K),g=>g.id,(g,l)=>{var p=ze(),b=t(p),y=t(b),R=t(y,!0);a(y);var G=s(y,2),q=t(G),I=t(q);h(I),I.__change=()=>je(e(l)),de(2),a(q);var k=s(q,2),H=t(k,!0);a(k),a(G),a(b);var E=s(b,2);{var Q=i=>{var c=Ue(),P=t(c,!0);a(c),se(()=>j(P,e(l).descripcion)),d(i,c)};D(E,i=>{e(l).descripcion&&i(Q)})}var f=s(E,2),x=t(f),N=s(t(x),2),T=t(N);a(N),a(x);var A=s(x,2),V=s(t(A),2),U=t(V);a(V),a(A);var C=s(A,2),$=s(t(C),2),W=t($);a($),a(C);var X=s(C,2);{var Y=i=>{var c=$e();d(i,c)};D(X,i=>{e(l).frecuencia==="DIARIO"&&e(l).excluir_domingos&&i(Y)})}a(f);var z=s(f,2),te=t(z);te.__click=()=>ge(e(l)),a(z),a(p),se((i,c,P)=>{Se(p,1,`producto-card ${e(l).activo?"activo":"inactivo"}`,"svelte-6qgtij"),j(R,e(l).nombre),Fe(I,e(l).activo),j(H,e(l).activo?"Activo":"Inactivo"),j(T,`${e(l).interes_porcentaje??""}%`),j(U,`${e(l).numero_cuotas??""} ${i??""}`),j(W,`${c??""} - ${P??""}`)},[()=>be(e(l).frecuencia).toLowerCase(),()=>ue(e(l).monto_minimo),()=>ue(e(l).monto_maximo)]),d(g,p)}),a(u),d(m,u)};D(S,m=>{e(K).length===0?m(F):m(L,!1)},!0)}d(o,n)};D(fe,o=>{e(Z)?o(xe):o(he,!1)})}a(le),a(ee);var ye=s(ee,2);{var Ie=o=>{var n=Be();n.__click=B,n.__keydown=i=>i.key==="Escape"&&B();var S=t(n);S.__click=i=>i.stopPropagation();var F=t(S),L=t(F),m=t(L,!0);a(L);var u=s(L,2);u.__click=B,a(F);var g=s(F,2),l=t(g),p=t(l),b=t(p),y=s(t(b),2);h(y),a(b);var R=s(b,2),G=s(t(R),2);De(G),a(R);var q=s(R,2),I=s(t(q),2);h(I),a(q);var k=s(q,2),H=s(t(k),2);h(H),a(k);var E=s(k,2),Q=s(t(E),2),f=t(Q);f.value=f.__value="DIARIO";var x=s(f);x.value=x.__value="SEMANAL";var N=s(x);N.value=N.__value="QUINCENAL";var T=s(N);T.value=T.__value="MENSUAL",a(Q),a(E);var A=s(E,2);{var V=i=>{var c=Ke(),P=t(c),ne=t(P);h(ne),de(),a(P),a(c),Le(ne,()=>e(r).excluir_domingos,ke=>e(r).excluir_domingos=ke),d(i,c)};D(A,i=>{e(r).frecuencia==="DIARIO"&&i(V)})}var U=s(A,2),C=s(t(U),2);h(C),a(U);var $=s(U,2),W=s(t($),2);h(W),a($),a(p);var X=s(p,2),Y=t(X);Y.__click=B;var z=s(Y,2),te=t(z);a(z),a(X),a(l),a(g),a(S),a(n),se(()=>{j(m,e(O)?"Editar Producto":"Nuevo Producto"),j(te,`${e(O)?"Actualizar":"Crear"} Producto`)}),Me("submit",l,i=>{i.preventDefault(),pe()}),M(y,()=>e(r).nombre,i=>e(r).nombre=i),M(G,()=>e(r).descripcion,i=>e(r).descripcion=i),M(I,()=>e(r).interes_porcentaje,i=>e(r).interes_porcentaje=i),M(H,()=>e(r).numero_cuotas,i=>e(r).numero_cuotas=i),we(Q,()=>e(r).frecuencia,i=>e(r).frecuencia=i),M(C,()=>e(r).monto_minimo,i=>e(r).monto_minimo=i),M(W,()=>e(r).monto_maximo,i=>e(r).monto_maximo=i),d(o,n)};D(ye,o=>{e(w)&&o(Ie)})}d(_e,re),Ce()}Ee(["click","change","keydown"]);export{Ye as component};
