import{w as c}from"./C5jdwYbG.js";import{g as o}from"./Dj_5MnEQ.js";import{c as r,i as a}from"./CanLVora.js";const s=c(null),n=c(!0),l={async initialize(){n.set(!0);try{r.isStarted||(console.log("ðŸ”„ Inicializando CrediSync..."),await a());const e=await r.services.auth.getCurrentUser();s.set(e)}catch(t){console.error("Error initializing auth:",t),s.set(null)}finally{n.set(!1)}},async signIn(t,e){r.isStarted||await a();const i=await r.services.auth.signIn(t,e);return i.error||s.set(i.user),i},async signUp(t,e){r.isStarted||await a();const i=await r.services.auth.signUp(t,e);return!i.error&&i.user&&s.set(i.user),i},async signOut(){r.isStarted||await a();const e=await r.services.auth.signOut();return e.error||(s.set(null),o("/login")),e},isAuthenticated(){let t;return s.subscribe(e=>t=e)(),!!t}};typeof window<"u"&&l.initialize();export{l as a,n as l,s as u};
