import{C as c}from"./DWhC0Ggg.js";import{g as u}from"./rSvE-nXO.js";import{c as o}from"./ktWRj9lY.js";const l={appName:"CrediSync",version:"1.0.0",supabase:{url:"https://hmnlriywocnpiktflehr.supabase.co",anonKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhtbmxyaXl3b2NucGlrdGZsZWhyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjUzMDE4MzIsImV4cCI6MjA4MDg3NzgzMn0.P4ZZdWAPgby89Rc8yYAZB9f2bwRrRuLEsS_6peobkf4"},offline:{enabled:!0,syncInterval:3e4,maxRetries:3,retryDelay:1e3},sync:{pauseOnActivity:!0,activityTimeout:5e4,forceOnReconnect:!0,maxSyncInterval:3e5},security:{encryption:!0,auditLog:!0,sessionTimeout:1440*60*1e3}},s=o(l),i=c(null),n=c(!0),y={async initialize(){n.set(!0);try{const t=await s.services.auth.getCurrentUser();i.set(t)}catch(e){console.error("Error initializing auth:",e),i.set(null)}finally{n.set(!1)}},async signIn(e,t){const r=await s.services.auth.signIn(e,t);return r.error||i.set(r.user),r},async signUp(e,t){const r=await s.services.auth.signUp(e,t);return!r.error&&r.user&&i.set(r.user),r},async signOut(){const t=await s.services.auth.signOut();return t.error||(i.set(null),u("/login")),t},isAuthenticated(){let e;return i.subscribe(t=>e=t)(),!!e}};typeof window<"u"&&y.initialize();export{y as a,n as l,i as u};
